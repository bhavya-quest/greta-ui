import{j as c}from"./jsx-runtime.D_zvdyIk.js";import{e as U,c as M,u as Re,d as Je,S as Ye}from"./utils.bwi5Gg-C.js";import{d as Ee,g as Ze,B as Qe}from"./createLucideIcon.BlrtUG5o.js";import{r as n}from"./index.CY-HDqYb.js";import{R as et,P as tt,O as rt,C as nt,h as ot,d as at,u as lt,F as st}from"./index.CAs8qcsg.js";import{u as $,P as O,e as it,d as ct,f as H,g as je}from"./tabs.Bf9E_ZtV.js";import{P as ut,D as dt}from"./index.DafHFAGh.js";import{c as Ae,R as pt,A as Ie,C as ft,a as mt}from"./index.BJooeXNP.js";import{X as vt,C as gt}from"./x.CP4AxNwl.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],xt=Ee("chevrons-up-down",ht);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],wt=Ee("search",bt);var we=1,yt=.9,Ct=.8,Pt=.17,le=.1,se=.999,kt=.9999,St=.99,Rt=/[\\\/_+.#"@\[\(\{&]/,Et=/[\\\/_+.#"@\[\(\{&]/g,jt=/[\s-]/,Me=/[\s-]/g;function ce(e,r,t,s,a,l,i){if(l===r.length)return a===e.length?we:St;var d=`${a},${l}`;if(i[d]!==void 0)return i[d];for(var g=s.charAt(l),u=t.indexOf(g,a),v=0,m,w,x,k;u>=0;)m=ce(e,r,t,s,u+1,l+1,i),m>v&&(u===a?m*=we:Rt.test(e.charAt(u-1))?(m*=Ct,x=e.slice(a,u-1).match(Et),x&&a>0&&(m*=Math.pow(se,x.length))):jt.test(e.charAt(u-1))?(m*=yt,k=e.slice(a,u-1).match(Me),k&&a>0&&(m*=Math.pow(se,k.length))):(m*=Pt,a>0&&(m*=Math.pow(se,u-a))),e.charAt(u)!==r.charAt(l)&&(m*=kt)),(m<le&&t.charAt(u-1)===s.charAt(l+1)||s.charAt(l+1)===s.charAt(l)&&t.charAt(u-1)!==s.charAt(l))&&(w=ce(e,r,t,s,u+1,l+2,i),w*le>m&&(m=w*le)),m>v&&(v=m),u=t.indexOf(g,u+1);return i[d]=v,v}function ye(e){return e.toLowerCase().replace(Me," ")}function At(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,ce(e,r,ye(e),ye(r),0,0,{})}var W='[cmdk-group=""]',ie='[cmdk-group-items=""]',It='[cmdk-group-heading=""]',Oe='[cmdk-item=""]',Ce=`${Oe}:not([aria-disabled="true"])`,ue="cmdk-item-select",T="data-value",Mt=(e,r,t)=>At(e,r,t),Ne=n.createContext(void 0),X=()=>n.useContext(Ne),_e=n.createContext(void 0),de=()=>n.useContext(_e),Fe=n.createContext(void 0),De=n.forwardRef((e,r)=>{let t=L(()=>{var o,f;return{search:"",value:(f=(o=e.value)!=null?o:e.defaultValue)!=null?f:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=L(()=>new Set),a=L(()=>new Map),l=L(()=>new Map),i=L(()=>new Set),d=$e(e),{label:g,children:u,value:v,onValueChange:m,filter:w,shouldFilter:x,loop:k,disablePointerSelection:A=!1,vimBindings:y=!0,...E}=e,_=$(),G=$(),I=$(),N=n.useRef(null),P=Kt();V(()=>{if(v!==void 0){let o=v.trim();t.current.value=o,R.emit()}},[v]),V(()=>{P(6,ve)},[]);let R=n.useMemo(()=>({subscribe:o=>(i.current.add(o),()=>i.current.delete(o)),snapshot:()=>t.current,setState:(o,f,h)=>{var p,b,C,j;if(!Object.is(t.current[o],f)){if(t.current[o]=f,o==="search")ne(),te(),P(1,re);else if(o==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let S=document.getElementById(I);S?S.focus():(p=document.getElementById(_))==null||p.focus()}if(P(7,()=>{var S;t.current.selectedItemId=(S=z())==null?void 0:S.id,R.emit()}),h||P(5,ve),((b=d.current)==null?void 0:b.value)!==void 0){let S=f??"";(j=(C=d.current).onValueChange)==null||j.call(C,S);return}}R.emit()}},emit:()=>{i.current.forEach(o=>o())}}),[]),ee=n.useMemo(()=>({value:(o,f,h)=>{var p;f!==((p=l.current.get(o))==null?void 0:p.value)&&(l.current.set(o,{value:f,keywords:h}),t.current.filtered.items.set(o,me(f,h)),P(2,()=>{te(),R.emit()}))},item:(o,f)=>(s.current.add(o),f&&(a.current.has(f)?a.current.get(f).add(o):a.current.set(f,new Set([o]))),P(3,()=>{ne(),te(),t.current.value||re(),R.emit()}),()=>{l.current.delete(o),s.current.delete(o),t.current.filtered.items.delete(o);let h=z();P(4,()=>{ne(),h?.getAttribute("id")===o&&re(),R.emit()})}),group:o=>(a.current.has(o)||a.current.set(o,new Set),()=>{l.current.delete(o),a.current.delete(o)}),filter:()=>d.current.shouldFilter,label:g||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:_,inputId:I,labelId:G,listInnerRef:N}),[]);function me(o,f){var h,p;let b=(p=(h=d.current)==null?void 0:h.filter)!=null?p:Mt;return o?b(o,t.current.search,f):0}function te(){if(!t.current.search||d.current.shouldFilter===!1)return;let o=t.current.filtered.items,f=[];t.current.filtered.groups.forEach(p=>{let b=a.current.get(p),C=0;b.forEach(j=>{let S=o.get(j);C=Math.max(S,C)}),f.push([p,C])});let h=N.current;B().sort((p,b)=>{var C,j;let S=p.getAttribute("id"),Y=b.getAttribute("id");return((C=o.get(Y))!=null?C:0)-((j=o.get(S))!=null?j:0)}).forEach(p=>{let b=p.closest(ie);b?b.appendChild(p.parentElement===b?p:p.closest(`${ie} > *`)):h.appendChild(p.parentElement===h?p:p.closest(`${ie} > *`))}),f.sort((p,b)=>b[1]-p[1]).forEach(p=>{var b;let C=(b=N.current)==null?void 0:b.querySelector(`${W}[${T}="${encodeURIComponent(p[0])}"]`);C?.parentElement.appendChild(C)})}function re(){let o=B().find(h=>h.getAttribute("aria-disabled")!=="true"),f=o?.getAttribute(T);R.setState("value",f||void 0)}function ne(){var o,f,h,p;if(!t.current.search||d.current.shouldFilter===!1){t.current.filtered.count=s.current.size;return}t.current.filtered.groups=new Set;let b=0;for(let C of s.current){let j=(f=(o=l.current.get(C))==null?void 0:o.value)!=null?f:"",S=(p=(h=l.current.get(C))==null?void 0:h.keywords)!=null?p:[],Y=me(j,S);t.current.filtered.items.set(C,Y),Y>0&&b++}for(let[C,j]of a.current)for(let S of j)if(t.current.filtered.items.get(S)>0){t.current.filtered.groups.add(C);break}t.current.filtered.count=b}function ve(){var o,f,h;let p=z();p&&(((o=p.parentElement)==null?void 0:o.firstChild)===p&&((h=(f=p.closest(W))==null?void 0:f.querySelector(It))==null||h.scrollIntoView({block:"nearest"})),p.scrollIntoView({block:"nearest"}))}function z(){var o;return(o=N.current)==null?void 0:o.querySelector(`${Oe}[aria-selected="true"]`)}function B(){var o;return Array.from(((o=N.current)==null?void 0:o.querySelectorAll(Ce))||[])}function oe(o){let f=B()[o];f&&R.setState("value",f.getAttribute(T))}function ae(o){var f;let h=z(),p=B(),b=p.findIndex(j=>j===h),C=p[b+o];(f=d.current)!=null&&f.loop&&(C=b+o<0?p[p.length-1]:b+o===p.length?p[0]:p[b+o]),C&&R.setState("value",C.getAttribute(T))}function ge(o){let f=z(),h=f?.closest(W),p;for(;h&&!p;)h=o>0?Tt(h,W):Lt(h,W),p=h?.querySelector(Ce);p?R.setState("value",p.getAttribute(T)):ae(o)}let he=()=>oe(B().length-1),xe=o=>{o.preventDefault(),o.metaKey?he():o.altKey?ge(1):ae(1)},be=o=>{o.preventDefault(),o.metaKey?oe(0):o.altKey?ge(-1):ae(-1)};return n.createElement(O.div,{ref:r,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:o=>{var f;(f=E.onKeyDown)==null||f.call(E,o);let h=o.nativeEvent.isComposing||o.keyCode===229;if(!(o.defaultPrevented||h))switch(o.key){case"n":case"j":{y&&o.ctrlKey&&xe(o);break}case"ArrowDown":{xe(o);break}case"p":case"k":{y&&o.ctrlKey&&be(o);break}case"ArrowUp":{be(o);break}case"Home":{o.preventDefault(),oe(0);break}case"End":{o.preventDefault(),he();break}case"Enter":{o.preventDefault();let p=z();if(p){let b=new Event(ue);p.dispatchEvent(b)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:ee.inputId,id:ee.labelId,style:Gt},g),Z(e,o=>n.createElement(_e.Provider,{value:R},n.createElement(Ne.Provider,{value:ee},o))))}),Ot=n.forwardRef((e,r)=>{var t,s;let a=$(),l=n.useRef(null),i=n.useContext(Fe),d=X(),g=$e(e),u=(s=(t=g.current)==null?void 0:t.forceMount)!=null?s:i?.forceMount;V(()=>{if(!u)return d.item(a,i?.id)},[u]);let v=Ve(a,l,[e.value,e.children,l],e.keywords),m=de(),w=F(P=>P.value&&P.value===v.current),x=F(P=>u||d.filter()===!1?!0:P.search?P.filtered.items.get(a)>0:!0);n.useEffect(()=>{let P=l.current;if(!(!P||e.disabled))return P.addEventListener(ue,k),()=>P.removeEventListener(ue,k)},[x,e.onSelect,e.disabled]);function k(){var P,R;A(),(R=(P=g.current).onSelect)==null||R.call(P,v.current)}function A(){m.setState("value",v.current,!0)}if(!x)return null;let{disabled:y,value:E,onSelect:_,forceMount:G,keywords:I,...N}=e;return n.createElement(O.div,{ref:U(l,r),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!w,"data-disabled":!!y,"data-selected":!!w,onPointerMove:y||d.getDisablePointerSelection()?void 0:A,onClick:y?void 0:k},e.children)}),Nt=n.forwardRef((e,r)=>{let{heading:t,children:s,forceMount:a,...l}=e,i=$(),d=n.useRef(null),g=n.useRef(null),u=$(),v=X(),m=F(x=>a||v.filter()===!1?!0:x.search?x.filtered.groups.has(i):!0);V(()=>v.group(i),[]),Ve(i,d,[e.value,e.heading,g]);let w=n.useMemo(()=>({id:i,forceMount:a}),[a]);return n.createElement(O.div,{ref:U(d,r),...l,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},t&&n.createElement("div",{ref:g,"cmdk-group-heading":"","aria-hidden":!0,id:u},t),Z(e,x=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?u:void 0},n.createElement(Fe.Provider,{value:w},x))))}),_t=n.forwardRef((e,r)=>{let{alwaysRender:t,...s}=e,a=n.useRef(null),l=F(i=>!i.search);return!t&&!l?null:n.createElement(O.div,{ref:U(a,r),...s,"cmdk-separator":"",role:"separator"})}),Ft=n.forwardRef((e,r)=>{let{onValueChange:t,...s}=e,a=e.value!=null,l=de(),i=F(u=>u.search),d=F(u=>u.selectedItemId),g=X();return n.useEffect(()=>{e.value!=null&&l.setState("search",e.value)},[e.value]),n.createElement(O.input,{ref:r,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":g.listId,"aria-labelledby":g.labelId,"aria-activedescendant":d,id:g.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||l.setState("search",u.target.value),t?.(u.target.value)}})}),Dt=n.forwardRef((e,r)=>{let{children:t,label:s="Suggestions",...a}=e,l=n.useRef(null),i=n.useRef(null),d=F(u=>u.selectedItemId),g=X();return n.useEffect(()=>{if(i.current&&l.current){let u=i.current,v=l.current,m,w=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let x=u.offsetHeight;v.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return w.observe(u),()=>{cancelAnimationFrame(m),w.unobserve(u)}}},[]),n.createElement(O.div,{ref:U(l,r),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":s,id:g.listId},Z(e,u=>n.createElement("div",{ref:U(i,g.listInnerRef),"cmdk-list-sizer":""},u)))}),$t=n.forwardRef((e,r)=>{let{open:t,onOpenChange:s,overlayClassName:a,contentClassName:l,container:i,...d}=e;return n.createElement(et,{open:t,onOpenChange:s},n.createElement(tt,{container:i},n.createElement(rt,{"cmdk-overlay":"",className:a}),n.createElement(nt,{"aria-label":e.label,"cmdk-dialog":"",className:l},n.createElement(De,{ref:r,...d}))))}),Vt=n.forwardRef((e,r)=>F(t=>t.filtered.count===0)?n.createElement(O.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),zt=n.forwardRef((e,r)=>{let{progress:t,children:s,label:a="Loading...",...l}=e;return n.createElement(O.div,{ref:r,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Z(e,i=>n.createElement("div",{"aria-hidden":!0},i)))}),q=Object.assign(De,{List:Dt,Item:Ot,Input:Ft,Group:Nt,Separator:_t,Dialog:$t,Empty:Vt,Loading:zt});function Tt(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function Lt(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function $e(e){let r=n.useRef(e);return V(()=>{r.current=e}),r}var V=typeof window>"u"?n.useEffect:n.useLayoutEffect;function L(e){let r=n.useRef();return r.current===void 0&&(r.current=e()),r}function F(e){let r=de(),t=()=>e(r.snapshot());return n.useSyncExternalStore(r.subscribe,t,t)}function Ve(e,r,t,s=[]){let a=n.useRef(),l=X();return V(()=>{var i;let d=(()=>{var u;for(let v of t){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(u=v.current.textContent)==null?void 0:u.trim():a.current}})(),g=s.map(u=>u.trim());l.value(e,d,g),(i=r.current)==null||i.setAttribute(T,d),a.current=d}),a}var Kt=()=>{let[e,r]=n.useState(),t=L(()=>new Map);return V(()=>{t.current.forEach(s=>s()),t.current=new Map},[e]),(s,a)=>{t.current.set(s,a),r({})}};function qt(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function Z({asChild:e,children:r},t){return e&&n.isValidElement(r)?n.cloneElement(qt(r),{ref:r.ref},t(r.props.children)):t(r)}var Gt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Pe({className:e,...r}){return c.jsx(q,{"data-slot":"command",className:M("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r})}function Bt({className:e,...r}){return c.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[c.jsx(wt,{className:"size-4 shrink-0 opacity-50"}),c.jsx(q.Input,{"data-slot":"command-input",className:M("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function ke({className:e,...r}){return c.jsx(q.List,{"data-slot":"command-list",className:M("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...r})}function Wt({...e}){return c.jsx(q.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Ht({className:e,...r}){return c.jsx(q.Group,{"data-slot":"command-group",className:M("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r})}function Ut({className:e,...r}){return c.jsx(q.Item,{"data-slot":"command-item",className:M("relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground",e),...r})}var Q="Popover",[ze,Cr]=ct(Q,[Ae]),J=Ae(),[Xt,D]=ze(Q),Te=e=>{const{__scopePopover:r,children:t,open:s,defaultOpen:a,onOpenChange:l,modal:i=!1}=e,d=J(r),g=n.useRef(null),[u,v]=n.useState(!1),[m,w]=it({prop:s,defaultProp:a??!1,onChange:l,caller:Q});return c.jsx(pt,{...d,children:c.jsx(Xt,{scope:r,contentId:$(),triggerRef:g,open:m,onOpenChange:w,onOpenToggle:n.useCallback(()=>w(x=>!x),[w]),hasCustomAnchor:u,onCustomAnchorAdd:n.useCallback(()=>v(!0),[]),onCustomAnchorRemove:n.useCallback(()=>v(!1),[]),modal:i,children:t})})};Te.displayName=Q;var Le="PopoverAnchor",Jt=n.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,a=D(Le,t),l=J(t),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=a;return n.useEffect(()=>(i(),()=>d()),[i,d]),c.jsx(Ie,{...l,...s,ref:r})});Jt.displayName=Le;var Ke="PopoverTrigger",qe=n.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,a=D(Ke,t),l=J(t),i=Re(r,a.triggerRef),d=c.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Ue(a.open),...s,ref:i,onClick:H(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?d:c.jsx(Ie,{asChild:!0,...l,children:d})});qe.displayName=Ke;var pe="PopoverPortal",[Yt,Zt]=ze(pe,{forceMount:void 0}),Ge=e=>{const{__scopePopover:r,forceMount:t,children:s,container:a}=e,l=D(pe,r);return c.jsx(Yt,{scope:r,forceMount:t,children:c.jsx(je,{present:t||l.open,children:c.jsx(ut,{asChild:!0,container:a,children:s})})})};Ge.displayName=pe;var K="PopoverContent",Be=n.forwardRef((e,r)=>{const t=Zt(K,e.__scopePopover),{forceMount:s=t.forceMount,...a}=e,l=D(K,e.__scopePopover);return c.jsx(je,{present:s||l.open,children:l.modal?c.jsx(er,{...a,ref:r}):c.jsx(tr,{...a,ref:r})})});Be.displayName=K;var Qt=Je("PopoverContent.RemoveScroll"),er=n.forwardRef((e,r)=>{const t=D(K,e.__scopePopover),s=n.useRef(null),a=Re(r,s),l=n.useRef(!1);return n.useEffect(()=>{const i=s.current;if(i)return ot(i)},[]),c.jsx(at,{as:Qt,allowPinchZoom:!0,children:c.jsx(We,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(e.onCloseAutoFocus,i=>{i.preventDefault(),l.current||t.triggerRef.current?.focus()}),onPointerDownOutside:H(e.onPointerDownOutside,i=>{const d=i.detail.originalEvent,g=d.button===0&&d.ctrlKey===!0,u=d.button===2||g;l.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:H(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),tr=n.forwardRef((e,r)=>{const t=D(K,e.__scopePopover),s=n.useRef(!1),a=n.useRef(!1);return c.jsx(We,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||t.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=l.target;t.triggerRef.current?.contains(i)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),We=n.forwardRef((e,r)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:g,onFocusOutside:u,onInteractOutside:v,...m}=e,w=D(K,t),x=J(t);return lt(),c.jsx(st,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l,children:c.jsx(dt,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:v,onEscapeKeyDown:d,onPointerDownOutside:g,onFocusOutside:u,onDismiss:()=>w.onOpenChange(!1),children:c.jsx(ft,{"data-state":Ue(w.open),role:"dialog",id:w.contentId,...x,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),He="PopoverClose",rr=n.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,a=D(He,t);return c.jsx(O.button,{type:"button",...s,ref:r,onClick:H(e.onClick,()=>a.onOpenChange(!1))})});rr.displayName=He;var nr="PopoverArrow",or=n.forwardRef((e,r)=>{const{__scopePopover:t,...s}=e,a=J(t);return c.jsx(mt,{...a,...s,ref:r})});or.displayName=nr;function Ue(e){return e?"open":"closed"}var ar=Te,lr=qe,sr=Ge,ir=Be;function cr({...e}){return c.jsx(ar,{"data-slot":"popover",...e})}function ur({...e}){return c.jsx(lr,{"data-slot":"popover-trigger",...e})}function dr({className:e,align:r="center",sideOffset:t=4,...s}){return c.jsx(sr,{children:c.jsx(ir,{"data-slot":"popover-content",align:r,sideOffset:t,className:M("z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95",e),...s})})}const pr=Ze("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:r,asChild:t=!1,...s}){const a=t?Ye:"span";return c.jsx(a,{"data-slot":"badge",className:M(pr({variant:r}),e),...s})}const Xe=n.createContext(null);function Pr({children:e,values:r,defaultValues:t,onValuesChange:s}){const[a,l]=n.useState(!1),[i,d]=n.useState(new Set(r??t)),g=r?new Set(r):i,[u,v]=n.useState(new Map);function m(x){const k=A=>{const y=new Set(A);return y.has(x)?y.delete(x):y.add(x),y};d(k),s?.([...k(g)])}const w=n.useCallback((x,k)=>{v(A=>A.get(x)===k?A:new Map(A).set(x,k))},[]);return c.jsx(Xe,{value:{open:a,setOpen:l,selectedValues:g,toggleValue:m,items:u,onItemAdded:w},children:c.jsx(cr,{open:a,onOpenChange:l,children:e})})}function kr({className:e,children:r,...t}){const{open:s}=fe();return c.jsx(ur,{asChild:!0,children:c.jsxs(Qe,{...t,variant:t.variant??"outline",role:t.role??"combobox","aria-expanded":t["aria-expanded"]??s,className:M("flex h-auto min-h-9 w-fit items-center justify-between gap-2 overflow-hidden rounded-md border border-input bg-transparent px-3 py-1.5 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[placeholder]:text-muted-foreground dark:bg-input/30 dark:hover:bg-input/50 dark:aria-invalid:ring-destructive/40 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground",e),children:[r,c.jsx(xt,{className:"size-4 shrink-0 opacity-50"})]})})}function Sr({placeholder:e,clickToRemove:r=!0,className:t,overflowBehavior:s="wrap-when-open",...a}){const{selectedValues:l,toggleValue:i,items:d,open:g}=fe(),[u,v]=n.useState(0),m=n.useRef(null),w=n.useRef(null),x=s==="wrap"||s==="wrap-when-open"&&g,k=n.useCallback(()=>{if(m.current==null)return;const y=m.current,E=w.current,_=y.querySelectorAll("[data-selected-item]");E!=null&&(E.style.display="none"),_.forEach(I=>I.style.removeProperty("display"));let G=0;for(let I=_.length-1;I>=0;I--){const N=_[I];if(y.scrollWidth<=y.clientWidth)break;G=_.length-I,N.style.display="none",E?.style.removeProperty("display")}v(G)},[]);n.useLayoutEffect(()=>{k()},[l,k,x]);const A=n.useCallback(y=>{m.current=y;const E=new ResizeObserver(k);return E.observe(y),()=>{E.disconnect(),m.current=null}},[k]);return l.size===0&&e?c.jsx("span",{className:"min-w-0 overflow-hidden font-normal text-muted-foreground",children:e}):c.jsxs("div",{...a,ref:A,className:M("flex w-full gap-1.5 overflow-hidden",x&&"h-full flex-wrap",t),children:[[...l].filter(y=>d.has(y)).map(y=>c.jsxs(Se,{variant:"outline","data-selected-item":!0,className:"group flex items-center gap-1",onClick:r?E=>{E.stopPropagation(),i(y)}:void 0,children:[d.get(y),r&&c.jsx(vt,{className:"size-2 text-muted-foreground group-hover:text-destructive"})]},y)),c.jsxs(Se,{style:{display:u>0&&!x?"block":"none"},variant:"outline",ref:w,children:["+",u]})]})}function Rr({search:e=!0,children:r,...t}){const s=typeof e=="object"?!0:e;return c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{display:"none"},children:c.jsx(Pe,{children:c.jsx(ke,{children:r})})}),c.jsx(dr,{className:"min-w-[var(--radix-popover-trigger-width)] p-0",children:c.jsxs(Pe,{...t,children:[s?c.jsx(Bt,{placeholder:typeof e=="object"?e.placeholder:void 0}):c.jsx("button",{autoFocus:!0,className:"sr-only"}),c.jsxs(ke,{children:[s&&c.jsx(Wt,{children:typeof e=="object"?e.emptyMessage:void 0}),r]})]})})]})}function Er({value:e,children:r,badgeLabel:t,onSelect:s,...a}){const{toggleValue:l,selectedValues:i,onItemAdded:d}=fe(),g=i.has(e);return n.useEffect(()=>{d(e,t??r)},[e,r,d,t]),c.jsxs(Ut,{...a,onSelect:()=>{l(e),s?.(e)},children:[c.jsx(gt,{className:M("mr-2 size-4",g?"opacity-100":"opacity-0")}),r]})}function jr(e){return c.jsx(Ht,{...e})}function fe(){const e=n.useContext(Xe);if(e==null)throw new Error("useMultiSelectContext must be used within a MultiSelectContext");return e}export{Pr as M,kr as a,Sr as b,Rr as c,jr as d,Er as e};
